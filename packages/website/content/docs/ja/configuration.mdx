---
title: 設定
description: 設定ファイルでVercel Doctorを設定し、ルールやファイルを無視して動作をカスタマイズできます。
icon: Settings
---

Vercel Doctorは設定なしでそのまま動作します。動作をカスタマイズする場合は、設定ファイルを追加できます。

## 設定ファイル

プロジェクトルートに `vercel-doctor.config.json` を作成してください：

```json
{
  "ignore": {
    "rules": ["vercel-doctor/nextjs-link-prefetch-default"],
    "files": ["src/generated/**"]
  }
}
```

または、`package.json` に `"vercelDoctor"` キーを追加します：

```json
{
  "vercelDoctor": {
    "ignore": {
      "rules": ["knip/exports"],
      "files": ["src/generated/**"]
    }
  }
}
```

両方存在する場合、`vercel-doctor.config.json` が優先されます。

## オプション

| Key            | Type                | Default | Description                                   |
| -------------- | ------------------- | ------- | --------------------------------------------- |
| `ignore.rules` | `string[]`          | `[]`    | Rule IDs to suppress, in `plugin/rule` format |
| `ignore.files` | `string[]`          | `[]`    | Glob patterns for file paths to skip          |
| `lint`         | `boolean`           | `true`  | Enable or disable billing lint rules          |
| `deadCode`     | `boolean`           | `true`  | Enable or disable dead code detection         |
| `verbose`      | `boolean`           | `false` | Show file paths and line numbers per rule     |
| `diff`         | `boolean \| string` | `false` | Enable diff mode or pin a base branch         |

## ルールを無視する

ルールIDは `plugin/rule` 形式を使用します：

```json
{
  "ignore": {
    "rules": [
      "vercel-doctor/nextjs-image-missing-sizes",
      "vercel-doctor/vercel-large-static-asset",
      "knip/exports"
    ]
  }
}
```

利用可能なルールIDは [Rules](/docs/rules/function-duration) ページで確認できます。

## ファイルを無視する

スキャン対象外にするファイルをglobパターンで指定します：

```json
{
  "ignore": {
    "files": ["src/generated/**", "**/*.stories.tsx", "scripts/**"]
  }
}
```

## CLIによる上書き

CLIフラグは常に設定ファイルの値より優先されます。例えば、コマンドラインで `--verbose` を指定すると、設定ファイルの `"verbose": false` を上書きします。

## 完全な例

```json
{
  "ignore": {
    "rules": [
      "vercel-doctor/vercel-consider-bun-runtime",
      "vercel-doctor/vercel-avoid-platform-cron"
    ],
    "files": ["src/generated/**", "e2e/**"]
  },
  "lint": true,
  "deadCode": true,
  "verbose": false,
  "diff": "main"
}
```
