---
title: Что такое Vercel Doctor?
description: Сократите расходы на Vercel, сканируя кодовую базу Next.js на наличие затратных паттернов.
icon: CircleQuestionMark
---

import { Step, Steps } from "fumadocs-ui/components/steps";

Vercel Doctor — это специализированный инструмент диагностики для проектов Next.js, развёрнутых на Vercel. Он сканирует вашу кодовую базу на паттерны, увеличивающие счёт — длительность функций, некешируемые маршруты, неоптимизированные изображения и многое другое — а затем выставляет оценку из 100 с конкретными рекомендациями по исправлению.

## Быстрый старт

<Steps>

<Step>
### Запустите для своего проекта

```bash
npx -y vercel-doctor@latest .
```

Вот и всё. Без установки, без настройки. Инструмент сканирует кодовую базу и выводит оценку с диагностикой.

</Step>

<Step>
### Исправьте проблемы

Каждое диагностическое сообщение содержит пояснение: что нужно изменить и почему. Исправляйте сначала правила с наибольшим влиянием — ошибки перед предупреждениями.

</Step>

<Step>
### Перезапустите для проверки

```bash
npx -y vercel-doctor@latest . --diff
```

Используйте `--diff` на feature-ветках, чтобы сканировать только изменённые файлы.

</Step>

</Steps>

## Что проверяется

Vercel Doctor выполняет два прохода анализа параллельно:

1. **Линтинг счетов** — правила на основе AST и паттернов, обнаруживающие затратные паттерны Next.js и Vercel
2. **Обнаружение мёртвого кода** — поиск неиспользуемых файлов, экспортов и типов, которые раздувают бандл и замедляют холодный старт

### Категории правил

| Категория                                                 | Правила | Что обнаруживает                                                                                        |
| --------------------------------------------------------- | ------- | ------------------------------------------------------------------------------------------------------- |
| [Длительность функций](/docs/rules/function-duration)     | 3       | Последовательные await, блокирующее логирование, непараллельный ввод-вывод                              |
| [Кеширование](/docs/rules/caching)                        | 6       | `force-dynamic`, отсутствие политик кеширования, `no-store` fetch, побочные эффекты в GET               |
| [Вызовы](/docs/rules/invocations)                         | 2       | Клиентские fetch на страницах, агрессивная предзагрузка ссылок                                          |
| [Оптимизация изображений](/docs/rules/image-optimization) | 4       | Глобальное отключение `unoptimized`, отсутствие `sizes`, широкие remote-паттерны, SVG без `unoptimized` |
| [Платформа](/docs/rules/platform)                         | 8       | Тяжёлые импорты в Edge, cron-задачи, среда Bun, Fluid Compute, архив деплоя, кеш Turbopack              |
| [Мёртвый код](/docs/rules/dead-code)                      | 4       | Неиспользуемые файлы, экспорты, типы и дубликаты                                                        |

## Возможности

- **Без настройки** — работает из коробки с любым проектом Next.js
- **Поддержка монорепозиториев** — автоматически определяет воркспейсы, позволяет выбрать проекты для сканирования
- **Режим diff** — сканирование только изменённых файлов на feature-ветках
- **Оценка** — от 0 до 100 с метками «Отлично» / «Требует доработки» / «Критично»
- **Для CI** — неинтерактивный режим для автоматизированных пайплайнов
- **Настраиваемость** — игнорирование правил или файлов через конфигурационный файл
- **AI-навык** — установка в качестве навыка для Claude Code, Cursor, Codex и других
